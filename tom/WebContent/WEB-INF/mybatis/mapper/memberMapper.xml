<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

<insert id="insertMember1" parameterType="com.sp.member.Member">
	INSERT INTO member_basic(userId,userName,userPwd) VALUES(#{userId},#{userName},#{userPwd})
</insert>

<insert id="insertMember2" parameterType="com.sp.member.Member">
	INSERT INTO member_detail(userId,birth,email,tel,home,question,answer,genre)
		VALUES(#{userId},#{birth},#{email},#{tel},#{home},#{question},#{answer},#{genre})
</insert>


<select id="readMember" parameterType="String" resultType="com.sp.member.Member">
	SELECT a.userId,userName,userPwd,enabled,DATE_FORMAT(birth,'%Y-%m-%d')birth,email,tel,created_date,modify_date
		FROM member_basic a JOIN member_detail b ON a.userId=b.userId WHERE a.userId=#{userId}
</select>
</mapper>