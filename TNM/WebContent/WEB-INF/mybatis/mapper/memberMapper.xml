<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member" >
	<insert id="insertMember_basic" parameterType="com.sp.member.Member">
		INSERT INTO member_basic(userId,userName,userPwd) 
			VALUES(#{userId},#{userName},#{userPwd}) 
	</insert>
	<insert id="insertMember_detail" parameterType="com.sp.member.Member">
		INSERT INTO member_detail(userId, birth, email, tel, phone, zip, question, answer, genre)
			VALUES(#{userId},#{birth},#{email},#{tel},#{phone},#{zip},#{question},#{answer},#{genre})
	</insert>
	

	<update id="updateMember" parameterType="com.sp.member.Member">
		UPDATE member SET userName=#{userName}, 
			userPwd=#{userPwd},birth=#{birth},email=#{email},tel=#{tel},phone=#{phone},zip=#{zip},genre=#{genre}, modify_date=SYSDATE  
			WHERE userId=#{userId}	
	</update>

	<select id="readMember" parameterType="String" resultType="com.sp.member.Member">
		SELECT userId,userName,userPwd,enabled,
			TO_CHAR(birth,'YYYY-MM-DD') birth,
			email,tel,created_date,modify_date
			FROM member
			WHERE userId=#{userId}
	</select>
	

</mapper>